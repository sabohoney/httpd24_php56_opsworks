<?php
Configure::write('Security.salt', '<%= node[:environment_variables]['salt'] %>');
Configure::write('Security.cipherSeed', '<%= node[:environment_variables]['cipherSeed'] %>');
Configure::write('Cache.disable', false);
Configure::write('Cache.check', true);
<% if node[:environment_variables][:session] == 'default' then %>
Configure::write('Session.cookie', 'NICOFARRE');
<% elsif node[:environment_variables][:session] == 'database' then %>
Configure::write('Session', [
    'defaults' => 'database',
    'cookie' => 'NICOFARRE',
    'timeout' => 8*60,
    'handler' => [
        'model' => 'BcSession',
    ],
]);
<% end %>
Configure::write('BcEnv.siteUrl', 'http://<%= @deploy[:domains].first %>/');
<% sslSiteUrl = node[:environment_variables]['ssl'] == 'on' ? 'https://' + @deploy[:domains].first + '/' : '' %>
Configure::write('BcEnv.sslUrl', '<%= sslSiteUrl %>');
Configure::write('BcApp.adminSsl', <%= node[:environment_variables]['ssl'] == 'yes' ? true : false %>);
Configure::write('BcApp.mobile', false);
Configure::write('BcApp.smartphone', false);
// Debug Mode
Configure::write('debug', 0);
